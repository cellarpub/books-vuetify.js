{"remainingRequest":"/home/marco/tests/books1/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/marco/tests/books1/src/components/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/marco/tests/books1/src/components/Dashboard.vue","mtime":1610900586080},{"path":"/home/marco/tests/books1/node_modules/cache-loader/dist/cjs.js","mtime":1611077702749},{"path":"/home/marco/tests/books1/node_modules/vue-loader/lib/index.js","mtime":1611077703296}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAiQC9zZXJ2aWNlL2FwaVNlcnZpY2UiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJEYXNoYm9hcmQiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBib29rTGVuZGluZzogewogICAgICAgIHNlbGVjdGVkQm9vazogMCwKICAgICAgICBtZW1iZXJJZDogIiIsCiAgICAgIH0sCiAgICAgIG1lbWJlcnM6IFtdLAogICAgICBib29rczogW10sCiAgICAgIHNlbGVjdGVkQm9va3M6IFtdLAogICAgICByZXNwb25zZVN1Y2Nlc3M6IGZhbHNlLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlYWRNZW1iZXJzOiBhc3luYyBmdW5jdGlvbigpIHsKICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IGFwaS5yZWFkTWVtYmVycygpOwogICAgICB0aGlzLm1lbWJlcnMgPSBkYXRhOwogICAgfSwKICAgIHJlYWRCb29rczogYXN5bmMgZnVuY3Rpb24oKSB7CiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBhcGkucmVhZEJvb2tzKCk7CiAgICAgIHRoaXMuYm9va3MgPSBkYXRhOwogICAgfSwKICAgIGxlbmRCb29rOiBhc3luYyBmdW5jdGlvbigpIHsKICAgICAgY29uc29sZS5sb2coIkxlbmRpbmcgQm9va3MiKTsKICAgICAgbGV0IHNlbGVjdGVkSWRzID0gW107CiAgICAgIHRoaXMuc2VsZWN0ZWRCb29rcy5mb3JFYWNoKChib29rKSA9PiB7CiAgICAgICAgc2VsZWN0ZWRJZHMucHVzaChib29rLmlkKTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKCJMZW5kaW5nIEJvb2tzICIgKyBzZWxlY3RlZElkcyk7CiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7CiAgICAgICAgYm9va0lkczogc2VsZWN0ZWRJZHMsCiAgICAgICAgbWVtYmVySWQ6IHRoaXMuYm9va0xlbmRpbmcubWVtYmVySWQsCiAgICAgIH07CiAgICAgIGNvbnN0IGJvb2tMZW5kaW5nUmVzcG9uc2UgPSBhd2FpdCBhcGkubGVuZEJvb2socmVxdWVzdCk7CiAgICAgIGNvbnNvbGUubG9nKGJvb2tMZW5kaW5nUmVzcG9uc2UpOwogICAgICB0aGlzLnJlc3BvbnNlU3VjY2VzcyA9IHRydWU7CiAgICAgIHRoaXMuc2VsZWN0ZWRCb29rcyA9IFtdOwogICAgICB0aGlzLmJvb2tMZW5kaW5nLnNlbGVjdGVkQm9vayA9IDA7CiAgICAgIHRoaXMuYm9va0xlbmRpbmcubWVtYmVySWQgPSAiIjsKICAgIH0sCiAgICBhZGRCb29rOiBhc3luYyBmdW5jdGlvbigpIHsKICAgICAgY29uc29sZS5sb2coIkFkZGluZyBCb29rIiArIHRoaXMuYm9va0xlbmRpbmcuc2VsZWN0ZWRCb29rKTsKICAgICAgY29uc3QgYm9va0RhdGEgPSBhd2FpdCBhcGkucmVhZEJvb2sodGhpcy5ib29rTGVuZGluZy5zZWxlY3RlZEJvb2spOwogICAgICBjb25zb2xlLmxvZygiQWRkZWQgQm9vayAiICsgYm9va0RhdGEuaWQpOwogICAgICB0aGlzLnNlbGVjdGVkQm9va3MucHVzaChib29rRGF0YSk7CiAgICB9LAogICAgcmVtb3ZlQm9vazogZnVuY3Rpb24oYm9va0lkKSB7CiAgICAgIGNvbnNvbGUubG9nKCJSZW1vdmluZyBCb29rICIgKyBib29rSWQpOwogICAgICB0aGlzLnNlbGVjdGVkQm9va3MgPSB0aGlzLnNlbGVjdGVkQm9va3MuZmlsdGVyKAogICAgICAgIChib29rKSA9PiBib29rLmlkICE9IGJvb2tJZAogICAgICApOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnJlYWRCb29rcygpOwogICAgdGhpcy5yZWFkTWVtYmVycygpOwogIH0sCn07Cg=="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Dashboard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-container>\n    <h1>Welcome to the library</h1>\n    <p>Library system by Javatodev.com.</p>\n    <v-row>\n      <v-col sm=\"12\">\n        <v-alert v-if=\"responseSuccess\" dense text type=\"success\">\n          You have successfully added book lending request.\n        </v-alert>\n      </v-col>\n      <v-col sm=\"4\">\n        <h3>Burrow a Book - Book Lending</h3>\n        <v-autocomplete\n          :items=\"members\"\n          color=\"white\"\n          item-value=\"id\"\n          item-text=\"firstName\"\n          label=\"Member\"\n          v-model=\"bookLending.memberId\"\n        ></v-autocomplete>\n        <v-autocomplete\n          :items=\"books\"\n          color=\"white\"\n          item-value=\"id\"\n          item-text=\"name\"\n          label=\"Books\"\n          v-model=\"bookLending.selectedBook\"\n        ></v-autocomplete>\n        <v-btn depressed color=\"default\" v-on:click=\"addBook\">\n          Add Book\n        </v-btn>\n        <v-btn color=\"success\" v-on:click=\"lendBook\">\n          Lend The Books\n        </v-btn>\n      </v-col>\n      <v-col sm=\"8\">\n        <h3>Selected Books</h3>\n        <v-simple-table>\n          <template v-slot:default>\n            <thead>\n              <tr>\n                <th class=\"text-left\">\n                  ID\n                </th>\n                <th class=\"text-left\">\n                  Name\n                </th>\n                <th class=\"text-left\">\n                  ISBN\n                </th>\n                <th class=\"text-left\">\n                  Action\n                </th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"book in selectedBooks\" :key=\"book.id\">\n                <td>{{ book.id }}</td>\n                <td>{{ book.name }}</td>\n                <td>{{ book.isbn }}</td>\n                <td>\n                  <v-btn icon color=\"pink\" v-on:click=\"removeBook(book.id)\">\n                    <v-icon>mdi-delete</v-icon>\n                  </v-btn>\n                </td>\n              </tr>\n            </tbody>\n          </template>\n        </v-simple-table>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n<script>\nimport api from \"@/service/apiService\";\n\nexport default {\n  name: \"Dashboard\",\n  data() {\n    return {\n      bookLending: {\n        selectedBook: 0,\n        memberId: \"\",\n      },\n      members: [],\n      books: [],\n      selectedBooks: [],\n      responseSuccess: false,\n    };\n  },\n  methods: {\n    readMembers: async function() {\n      const data = await api.readMembers();\n      this.members = data;\n    },\n    readBooks: async function() {\n      const data = await api.readBooks();\n      this.books = data;\n    },\n    lendBook: async function() {\n      console.log(\"Lending Books\");\n      let selectedIds = [];\n      this.selectedBooks.forEach((book) => {\n        selectedIds.push(book.id);\n      });\n      console.log(\"Lending Books \" + selectedIds);\n      const request = {\n        bookIds: selectedIds,\n        memberId: this.bookLending.memberId,\n      };\n      const bookLendingResponse = await api.lendBook(request);\n      console.log(bookLendingResponse);\n      this.responseSuccess = true;\n      this.selectedBooks = [];\n      this.bookLending.selectedBook = 0;\n      this.bookLending.memberId = \"\";\n    },\n    addBook: async function() {\n      console.log(\"Adding Book\" + this.bookLending.selectedBook);\n      const bookData = await api.readBook(this.bookLending.selectedBook);\n      console.log(\"Added Book \" + bookData.id);\n      this.selectedBooks.push(bookData);\n    },\n    removeBook: function(bookId) {\n      console.log(\"Removing Book \" + bookId);\n      this.selectedBooks = this.selectedBooks.filter(\n        (book) => book.id != bookId\n      );\n    },\n  },\n  mounted() {\n    this.readBooks();\n    this.readMembers();\n  },\n};\n</script>\n"]}]}